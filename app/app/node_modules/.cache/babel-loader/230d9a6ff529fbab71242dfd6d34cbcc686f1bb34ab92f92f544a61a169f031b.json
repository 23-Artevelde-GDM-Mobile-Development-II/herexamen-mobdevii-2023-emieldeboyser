{"ast":null,"code":"var _jsxFileName = \"/Users/emieldeboyser/Documents/0_School/2022-2023/Herexamens/MOBDEV 2/newWebshop/app/app/src/Pages/Admin/Edit/editProduct.jsx\",\n  _s = $RefreshSig$();\nimport { Link, useNavigate } from \"react-router-dom\";\nimport useMutation from \"../../../hooks/useMutation\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProduct = ({\n  product,\n  onUpdate\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    isLoading,\n    error,\n    mutate\n  } = useMutation();\n  const [productName, setProductName] = useState(\"\");\n  const [productPrice, setProductPrice] = useState(\"\");\n  const [productDescription, setProductDescription] = useState(\"\");\n  const [productPhoto, setProductPhoto] = useState(null);\n\n  // const productId = product._id;\n  // const initialProductName = product.productName;\n  // const initialProductPrice = product.price;\n  // const initialProductDescription = product.description;\n  // const initialProductPhoto = product.photo;\n\n  // const handleProductChange = (event) => {\n  //   const { id, value } = event.target;\n  //   if (id === \"productName\") {\n  //     setProductName(value);\n  //   } else if (id === \"productPrice\") {\n  //     setProductPrice(value);\n  //   } else if (id === \"productDescription\") {\n  //     setProductDescription(value);\n  //   } else if (id === \"productPhoto\") {\n  //     setProductPhoto(event.target.files[0]);\n  //   }\n  // };\n\n  // const handleSubmit = async (event) => {\n  //   event.preventDefault();\n  //   try {\n  //     const data = {\n  //       productName,\n  //       price: productPrice,\n  //       description: productDescription,\n  //       photo: productPhoto,\n  //     };\n\n  //     const response = await mutate(\n  //       `${process.env.REACT_APP_API_URL}/product/${productId}`,\n  //       {\n  //         method: \"PATCH\",\n  //         data: data,\n  //         onSuccess: () => {\n  //           onUpdate();\n  //           navigate(`/admin`);\n  //         },\n  //       }\n  //     );\n\n  //     if (response && response.status === 200) {\n  //       const responseData = response.data;\n  //       console.log(\"Product edited successfully:\", responseData);\n  //     } else {\n  //       console.error(\"Failed to edit product. Server response:\", response);\n  //     }\n\n  //     setProductName(\"\");\n  //     setProductPrice(\"\");\n  //     setProductDescription(\"\");\n  //     setProductPhoto(null);\n\n  //     window.location.href = \"../\";\n  //   } catch (error) {\n  //     console.error(\"Error editing product:\", error);\n  //   }\n  // };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin\",\n      children: \"< Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Edit Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProduct, \"rgHA2z8i8VwPXnwcllfucY0iqzI=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = EditProduct;\nexport default EditProduct;\nvar _c;\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"names":["Link","useNavigate","useMutation","useState","jsxDEV","_jsxDEV","EditProduct","product","onUpdate","_s","navigate","isLoading","error","mutate","productName","setProductName","productPrice","setProductPrice","productDescription","setProductDescription","productPhoto","setProductPhoto","children","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/emieldeboyser/Documents/0_School/2022-2023/Herexamens/MOBDEV 2/newWebshop/app/app/src/Pages/Admin/Edit/editProduct.jsx"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport useMutation from \"../../../hooks/useMutation\";\nimport { useState } from \"react\";\n\nconst EditProduct = ({ product, onUpdate }) => {\n  const navigate = useNavigate();\n  const { isLoading, error, mutate } = useMutation();\n  const [productName, setProductName] = useState(\"\");\n  const [productPrice, setProductPrice] = useState(\"\");\n  const [productDescription, setProductDescription] = useState(\"\");\n  const [productPhoto, setProductPhoto] = useState(null);\n\n  // const productId = product._id;\n  // const initialProductName = product.productName;\n  // const initialProductPrice = product.price;\n  // const initialProductDescription = product.description;\n  // const initialProductPhoto = product.photo;\n\n  // const handleProductChange = (event) => {\n  //   const { id, value } = event.target;\n  //   if (id === \"productName\") {\n  //     setProductName(value);\n  //   } else if (id === \"productPrice\") {\n  //     setProductPrice(value);\n  //   } else if (id === \"productDescription\") {\n  //     setProductDescription(value);\n  //   } else if (id === \"productPhoto\") {\n  //     setProductPhoto(event.target.files[0]);\n  //   }\n  // };\n\n  // const handleSubmit = async (event) => {\n  //   event.preventDefault();\n  //   try {\n  //     const data = {\n  //       productName,\n  //       price: productPrice,\n  //       description: productDescription,\n  //       photo: productPhoto,\n  //     };\n\n  //     const response = await mutate(\n  //       `${process.env.REACT_APP_API_URL}/product/${productId}`,\n  //       {\n  //         method: \"PATCH\",\n  //         data: data,\n  //         onSuccess: () => {\n  //           onUpdate();\n  //           navigate(`/admin`);\n  //         },\n  //       }\n  //     );\n\n  //     if (response && response.status === 200) {\n  //       const responseData = response.data;\n  //       console.log(\"Product edited successfully:\", responseData);\n  //     } else {\n  //       console.error(\"Failed to edit product. Server response:\", response);\n  //     }\n\n  //     setProductName(\"\");\n  //     setProductPrice(\"\");\n  //     setProductDescription(\"\");\n  //     setProductPhoto(null);\n\n  //     window.location.href = \"../\";\n  //   } catch (error) {\n  //     console.error(\"Error editing product:\", error);\n  //   }\n  // };\n\n  return (\n    <div>\n      <Link to=\"/admin\">&lt; Back</Link>\n      <h3>Edit Product</h3>\n      {error && <p>{error}</p>}\n      {/* <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"productName\">Product name:</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"productName\"\n            value={productName}\n            onChange={handleProductChange}\n            placeholder={initialProductName}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"productPrice\">Product Price:</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"productPrice\"\n            value={productPrice}\n            onChange={handleProductChange}\n            placeholder={initialProductPrice}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"productDescription\">Product Description:</label>\n          <textarea\n            className=\"form-control\"\n            id=\"productDescription\"\n            value={productDescription}\n            onChange={handleProductChange}\n            placeholder={initialProductDescription}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"productPhoto\">Product Photo:</label>\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            id=\"productPhoto\"\n            onChange={handleProductChange}\n            accept=\"image/*\"\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Edit Product\n        </button>\n      </form> */}\n    </div>\n  );\n};\n\nexport default EditProduct;\n"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,OAAOC,WAAW,MAAM,4BAA4B;AACpD,SAASC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,WAAW,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7C,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEU,SAAS;IAAEC,KAAK;IAAEC;EAAO,CAAC,GAAGX,WAAW,CAAC,CAAC;EAClD,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACe,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;;EAEtD;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA,oBACEE,OAAA;IAAAiB,QAAA,gBACEjB,OAAA,CAACL,IAAI;MAACuB,EAAE,EAAC,QAAQ;MAAAD,QAAA,EAAC;IAAS;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAClCtB,OAAA;MAAAiB,QAAA,EAAI;IAAY;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACpBf,KAAK,iBAAIP,OAAA;MAAAiB,QAAA,EAAIV;IAAK;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAmDrB,CAAC;AAEV,CAAC;AAAClB,EAAA,CA5HIH,WAAW;EAAA,QACEL,WAAW,EACSC,WAAW;AAAA;AAAA0B,EAAA,GAF5CtB,WAAW;AA8HjB,eAAeA,WAAW;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}